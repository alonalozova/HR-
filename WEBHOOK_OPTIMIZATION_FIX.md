# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è Webhook - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—Ä—ñ—à–µ–Ω–∞

–ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –æ–±—Ä–æ–±–∫–æ—é webhook –∑–∞–ø–∏—Ç—ñ–≤ –≤—ñ–¥ Telegram.

## üîç –ó–º—ñ–Ω–∏

### 1. –®–≤–∏–¥–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å Telegram
- Webhook —Ç–µ–ø–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î `OK` **–æ–¥—Ä–∞–∑—É** (–¥–æ –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
- –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –∑–∞–ø–∏—Ç–∞–º –≤—ñ–¥ Telegram
- Telegram –æ—á—ñ–∫—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–æ—Ç—è–≥–æ–º 60 —Å–µ–∫—É–Ω–¥, —ñ–Ω–∞–∫—à–µ –ø–æ–≤—Ç–æ—Ä—é—î –∑–∞–ø–∏—Ç

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –Ω–µ–±–ª–æ–∫—É—é—á–∞ –æ–±—Ä–æ–±–∫–∞
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –ø—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ OK
- –Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞, –≤–æ–Ω–∞ –ª–æ–≥—É—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ –±–ª–æ–∫—É—î webhook
- –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—É —Ä–æ–±–æ—Ç—É –±–æ—Ç–∞ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö

### 3. –ü–æ–∫—Ä–∞—â–µ–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –õ–æ–≥—É—î—Ç—å—Å—è —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –∫–æ–∂–Ω–æ–≥–æ webhook –∑–∞–ø–∏—Ç—É
- –õ–æ–≥—É—î—Ç—å—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (ID, —Ç–µ–∫—Å—Ç, —á–∞—Ç)

## üìù –ó–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ

### –î–æ:
```javascript
app.post('/webhook', async (req, res) => {
  // ... –æ–±—Ä–æ–±–∫–∞ ...
  await processMessage(update.message); // –ë–ª–æ–∫—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å
  res.status(200).send('OK'); // –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î–º–æ –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏
});
```

### –ü—ñ—Å–ª—è:
```javascript
app.post('/webhook', async (req, res) => {
  // –®–≤–∏–¥–∫–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î–º–æ Telegram
  res.status(200).send('OK');
  
  // –û–±—Ä–æ–±–ª—è—î–º–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω–µ–±–ª–æ–∫—É—é—á–µ)
  processMessage(message).catch(error => {
    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏:', error);
  });
});
```

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
–Ø–∫—â–æ Railway –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ GitHub, –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—è—Ç—å—Å—è.

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –†—É—á–Ω–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub
```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–∏
git status

# 2. –î–æ–¥–∞–π—Ç–µ —Ñ–∞–π–ª–∏
git add HR_Bot_Complete_Ultimate.js

# 3. –ó—Ä–æ–±—ñ—Ç—å commit
git commit -m "Fix: –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è webhook"

# 4. –ó–∞–ø—É—à—Ç–µ –Ω–∞ GitHub
git push origin main
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –†—É—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É
–Ø–∫—â–æ GitHub –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Railway Dashboard
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Deployments"
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Redeploy" –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª `HR_Bot_Complete_Ultimate.js` –≤—Ä—É—á–Ω—É

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway
–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway. –í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏:
```
‚úÖ HR_CHAT_ID –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ: 7304993062
‚úÖ AI —Å–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞ (–ø—Ä–æ—Å—Ç–∞ –±–∞–∑–∞ –∑–Ω–∞–Ω—å)
üöÄ HR Bot Ultimate –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 3000
‚úÖ Webhook –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: https://hr-production-c51b.up.railway.app
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ webhook
–í—ñ–¥–ø—Ä–∞–≤—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram. –í –ª–æ–≥–∞—Ö Railway –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏:
```
üì® Webhook –æ—Ç—Ä–∏–º–∞–Ω–æ: {...}
üìù –û–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥: 123456789 —Ç–µ–∫—Å—Ç: /start
‚úÖ Webhook –æ–±—Ä–æ–±–ª–µ–Ω–æ –∑–∞ XXms
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±–æ—Ç–∞
–ë–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏:
- `/start` - –ø–æ–∫–∞–∑—É—î –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∞–±–æ welcome message
- –ö–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
- Callback –∑–∞–ø–∏—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –æ–±—Ä–æ–±–ª—è—Ç–∏—Å—è

## ‚ö†Ô∏è –Ø–∫—â–æ –±–æ—Ç –≤—Å–µ —â–µ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î

### 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Railway Environment Variables
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤—ñ–¥ @BotFather
- `WEBHOOK_URL` - URL –≤–∞—à–æ–≥–æ Railway deployment (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://hr-production-c51b.up.railway.app`)
- `SPREADSHEET_ID` - ID Google Spreadsheet
- `HR_CHAT_ID` - ID —á–∞—Ç—É –¥–ª—è HR –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### 2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Start Command –≤ Railway
–í Railway Dashboard:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ "Settings" ‚Üí "Deploy"
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ "Start Command"
3. –ú–∞—î –±—É—Ç–∏: `node HR_Bot_Complete_Ultimate.js`

### 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ webhook URL –≤ Telegram
–í–∏–∫–æ–Ω–∞–π—Ç–µ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∞–±–æ —á–µ—Ä–µ–∑ curl:
```bash
curl "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getWebhookInfo"
```

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `url` –≤–∫–∞–∑—É—î –Ω–∞ –≤–∞—à Railway URL: `https://hr-production-c51b.up.railway.app/webhook`

### 4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway –Ω–∞ –ø–æ–º–∏–ª–∫–∏
–®—É–∫–∞–π—Ç–µ –≤ –ª–æ–≥–∞—Ö:
- `‚ùå` - –ø–æ–º–∏–ª–∫–∏
- `‚ö†Ô∏è` - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
- `üì®` - webhook –∑–∞–ø–∏—Ç–∏
- `üìù` - –æ–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω:
- ‚úÖ –®–≤–∏–¥–∫–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏
- ‚úÖ –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- ‚úÖ –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–æ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤
- ‚úÖ –õ–æ–≥—É–≤–∞—Ç–∏ –≤—Å—ñ –¥—ñ—ó –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∑–º—ñ–Ω–∏** –Ω–∞ Railway
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏** Railway –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
3. **–í—ñ–¥–ø—Ä–∞–≤—Ç–µ `/start`** –±–æ—Ç—É –≤ Telegram
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å** –±–æ—Ç–∞
5. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏** –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫

–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- Railway Environment Variables
- Webhook URL –≤ Telegram
- –õ–æ–≥–∏ Railway –Ω–∞ –ø–æ–º–∏–ª–∫–∏
- –°—Ç–∞—Ç—É—Å Railway deployment

---

**–î–∞—Ç–∞:** $(date)
**–í–µ—Ä—Å—ñ—è:** 2.0.0-webhook-optimization

